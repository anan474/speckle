{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/speckle.js"],"names":[],"mappings":"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","file":"speckle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","/**\r\n * Speckle.js\r\n *\r\n * A JavaScript module that adds responsive, stylized \r\n * speckles to any element; with no dependencies.\r\n *\r\n * @package speckle\r\n * @since   0.0.1\r\n */\r\nclass Speckle {\r\n\r\n\t/**\r\n\t * Constructor.\r\n\t *\r\n\t * @since  0.0.1\r\n\t * @param  {Element}  element  The passed element to speckle.\r\n\t * @param  {obj}      options  The options object.\r\n\t * @return {void} \r\n\t */\r\n\tconstructor(element, options) {\r\n\t\t// throw error if `element` is not a valid HTML element.\r\n\t\tif (! element || ! (element instanceof Element)) {\r\n\t\t\tthis.throwElementError();\r\n\t\t}\r\n\t\t// Set the default options.\r\n\t\tthis.defaultOptions = {\r\n\t\t\tquantity: 56, // quantity of speckles\r\n\t\t\tminSize: 4, // smallest speckle (1+, less than `maxSize`, px)\r\n\t\t\tmaxSize: 56, // largest speckle (1+, greater than `minSize`, px)\r\n\t\t\ttbOffset: 8, // top/bottom offset (0+, %)\r\n\t\t\tlrOffset: 8,  // left/right offset (0+, %)\r\n\t\t\tminOpacity: 12.5, // minimum opacity (1-100)\r\n\t\t\tmaxOpacity: 87.5, // maximum opacity (1-100)\r\n\t\t\tisBokeh: false, // bokeh effect (blur as a factor of distance)\r\n\t\t\tcolor: '', // color (hex, rgb, hsl, keyword). If none, the colors will be randomized.\r\n\t\t\tzIndex: 0, // z-index (bokeh: the starting z-index)\r\n\t\t\tisCropped: false, // apply `overflow: hidden;` to the container\r\n\t\t\ttagName: 'I', // the Tag Name that the speckle should be rendered as\r\n\t\t\tattributes: null // attributes object as `key: value` pairs\r\n\t\t};\r\n\t\t// Parse and set options.\r\n\t\tthis.options = this.parseOptions(options, this.defaultOptions);\r\n\t\tconst { minSize, maxSize, tbOffset, lrOffset, minOpacity, maxOpacity } = this.options;\r\n\t\t// throw error if `minSize` is less than 1, or greater than `maxSize`.\r\n\t\tif ((minSize < 1) || (minSize > maxSize)) {\r\n\t\t\tthis.throwOptionsError('minSize');\r\n\t\t}\r\n\t\t// throw error if `maxSize` is less than 1, or less than `minSize`.\r\n\t\tif ((maxSize < 1) || (maxSize < minSize)) {\r\n\t\t\tthis.throwOptionsError('maxSize');\r\n\t\t}\r\n\t\t// throw error if `tbOffset` is less than 0.\r\n\t\tif (tbOffset < 0) {\r\n\t\t\tthis.throwOptionsError('tbOffset');\r\n\t\t}\r\n\t\t// throw error if `lrOffset` is less than 0.\r\n\t\tif (lrOffset < 0) {\r\n\t\t\tthis.throwOptionsError('lrOffset');\r\n\t\t}\r\n\t\t// throw error if `minOpacity` is less than 0 or greater than 100; or if is greater than `maxOpacity`.\r\n\t\tif ((minOpacity < 0) || (minOpacity > 100) || (minOpacity > maxOpacity)) {\r\n\t\t\tthis.throwOptionsError('minOpacity');\r\n\t\t}\r\n\t\t// throw error if `maxOpacity` is less than 0 or greater than 100; or if is less than `minOpacity`.\r\n\t\tif ((maxOpacity < 0) || (maxOpacity > 100) || (maxOpacity < minOpacity)) {\r\n\t\t\tthis.throwOptionsError('maxOpacity');\r\n\t\t}\r\n\t\t// Set the global styles.\r\n\t\tthis.globalStyles = {\r\n\t\t\tborderRadius: '50%', \r\n\t\t\tdisplay: 'block', \r\n\t\t\tpointerEvents: 'none', \r\n\t\t\tposition: 'absolute', \r\n\t\t};\r\n\t\t// Set the upgraded class.\r\n\t\tthis.upgradedClass = 'speckle--upgraded';\r\n\t\t// Render speckles.\r\n\t\tthis.render(element);\r\n\t}\r\n\r\n\t/**\r\n\t * Parse the passed options against the defaults.\r\n\t * \r\n\t * @param  {obj}  options         The passed in user options object.\r\n\t * @param  {obj}  defaultOptions  The default options object.\r\n\t * @return {obj}                  The parsed options object.\r\n\t */\r\n\tparseOptions(options, defaultOptions) {\r\n\t\t// if no options are passed, just return the default options.\r\n\t\tif (! options || typeof options !== 'object') {\r\n\t\t\treturn defaultOptions;\r\n\t\t}\r\n\t\t// init empty `parsedOptions` object.\r\n\t\tvar parsedOptions = {};\r\n\t\t// loop default option keys and parse. If the options \r\n\t\t// object has this key, use it; else, use the default option.\r\n\t\tfor (var key in defaultOptions) {\r\n\t\t\tconst value = options[key];\r\n\t\t\t// If the value is a number, set it no matter what.\r\n\t\t\t// This prevents issues where passing `0` is read as \r\n\t\t\t// no option passed, rendering the default instead.\r\n\t\t\tif (typeof value === 'number') {\r\n\t\t\t\tparsedOptions[key] = value;\r\n\t\t\t} else {\r\n\t\t\t\tparsedOptions[key] = value || defaultOptions[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\t// return the parsed options.\r\n\t\treturn parsedOptions;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Throw an element error.\r\n\t * \r\n\t * @since  0.0.1\r\n\t * @return {Error}  The formatted element error.\r\n\t */\r\n\tthrowElementError() {\r\n\t\tthrow new Error(\r\n\t\t\t'Speckle.js\\n' + \r\n\t\t\t'A valid HTML Element must be passed to the constructor as the first argument.'\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Throw an element error.\r\n\t * \r\n\t * @since  0.0.1\r\n\t * @return {Error}  The formatted element error.\r\n\t */\r\n\tthrowOptionsError(key) {\r\n\t\tvar message = '';\r\n\t\tif (key === 'minSize') {\r\n\t\t\tmessage = 'The value must be greater than or equal to 1, and less than `maxSize`.';\r\n\t\t} else if (key === 'maxSize') {\r\n\t\t\tmessage = 'The value must be greater than or equal to 1, and greater than `minSize`.';\r\n\t\t} else if (key === 'tbOffset') {\r\n\t\t\tmessage = 'The value must be greater than 0.';\r\n\t\t} else if (key === 'lrOffset') {\r\n\t\t\tmessage = 'The value must be greater than 0.';\r\n\t\t} else if (key === 'minOpacity') {\r\n\t\t\tmessage = 'The value must be between 1 and 100, and less than `maxOpacity`.';\r\n\t\t} else if (key === 'maxOpacity') {\r\n\t\t\tmessage = 'The value must be between 1 and 100, and greater than `minOpacity`.';\r\n\t\t}\r\n\t\tthrow new Error(\r\n\t\t\t`Speckle.js [${key}]\\n` + message\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Get a random integer between a passed minimum and maximum.\r\n\t * \r\n\t * @since  0.0.1\r\n\t * @param  {int}  min  The minimum for the returned integer.\r\n\t * @param  {int}  max  The maximum for the returned integer.\r\n\t * @return {int}       The randomized integer.\r\n\t */\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * ((max - min) + 1) + min);\r\n\t}\r\n\r\n\t/**\r\n\t * Get a random hex color.\r\n\t * \r\n\t * @since  0.0.1\r\n\t * @return {string}  A random hex color.\r\n\t */\r\n\tgetRandomHex() {\r\n\t\treturn `#${('000000' + Math.random().toString(16).slice(2, 8)).slice(-6).toUpperCase()}`;\r\n\t}\r\n\r\n\tgetStyles(element) {\r\n\t\tconst { minSize, maxSize, tbOffset, lrOffset, minOpacity, maxOpacity, color, isBokeh, zIndex } = this.options;\r\n\t\t// size\r\n\t\tconst size = this.getRandomInt(minSize, maxSize);\r\n\t\tconst center = (size / 2);\r\n\t\t// color\r\n\t\tconst renderColor = color || this.getRandomHex();\r\n\t\t// Create the styles object.\r\n\t\treturn Object.assign(this.globalStyles, {\r\n\t\t\tbackgroundColor: renderColor, \r\n\t\t\tboxShadow: isBokeh ? `0 0 ${(size / 3)}px ${(size / 3)}px ${renderColor}` : '', \r\n\t\t\theight: `${size}px`, \r\n\t\t\tleft: `calc(${this.getRandomInt(0 - lrOffset, 100 + lrOffset)}% - ${center}px)`, \r\n\t\t\topacity: (this.getRandomInt(minOpacity, maxOpacity) * 0.01), \r\n\t\t\ttop: `calc(${this.getRandomInt(0 - tbOffset, 100 + tbOffset)}% - ${center}px)`, \r\n\t\t\twidth: `${size}px`, \r\n\t\t\tzIndex: zIndex, \r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Render the speckles.\r\n\t * \r\n\t * @since  0.0.1\r\n\t * @param  {Element}  element  The container element to speckle.\r\n\t * @return {void} \r\n\t */\r\n\trender(element) {\r\n\t\tconst { quantity, isCropped, tagName, attributes } = this.options;\r\n\t\tconst { position } = window.getComputedStyle(element);\r\n\t\t// add the upgraded class.\r\n\t\telement.classList.add(this.upgradedClass);\r\n\t\t// add relative positioning to the element if it \r\n\t\t// is not already `relative`, `fixed`, or `absolute`.\r\n\t\tif (['relative, absolute, fixed'].indexOf(position) === -1) {\r\n\t\t\telement.style.position = 'relative';\r\n\t\t}\r\n\t\t// Add `overflow: hidden;` to element if `isCropped` is `true`.\r\n\t\tif (isCropped) {\r\n\t\t\telement.style.overflow = 'hidden';\r\n\t\t}\r\n\t\t// render speckles according to quantity.\r\n\t\tfor (var i = 1; i <= quantity; i++) {\r\n\t\t\t// Create speckle element according to the `tagName` option.\r\n\t\t\tconst speckle = document.createElement(tagName);\r\n\t\t\t// Set the index of this attribute as `data-speckle-index` \r\n\t\t\t// incase it needs to be accessed by other scripts.\r\n\t\t\tspeckle.setAttribute('data-speckle-index', i);\r\n\t\t\t// Get speckle styles.\r\n\t\t\tconst styles = this.getStyles(element);\r\n\t\t\t// loop over the speckle style object keys and apply the styles.\r\n\t\t\tif (styles && typeof styles === 'object') {\r\n\t\t\t\tfor (var styleKey in styles) {\r\n\t\t\t\t\tspeckle.style[styleKey] = styles[styleKey];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Add the custom attributes to the speckle.\r\n\t\t\tif (attributes && typeof attributes === 'object') {\r\n\t\t\t\tfor (var attributeKey in attributes) {\r\n\t\t\t\t\tspeckle.setAttribute(attributeKey, attributes[attributeKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Append the speckle to the container element.\r\n\t\t\telement.appendChild(speckle);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default Speckle;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvc3BlY2tsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7SUFTTSxPOztBQUVMOzs7Ozs7OztBQVFBLGtCQUFZLE9BQVosRUFBcUIsT0FBckIsRUFBOEI7QUFBQTs7QUFDN0I7QUFDQSxNQUFJLENBQUUsT0FBRixJQUFhLEVBQUcsbUJBQW1CLE9BQXRCLENBQWpCLEVBQWlEO0FBQ2hELFFBQUssaUJBQUw7QUFDQTtBQUNEO0FBQ0EsT0FBSyxjQUFMLEdBQXNCO0FBQ3JCLGFBQVUsRUFEVyxFQUNQO0FBQ2QsWUFBUyxDQUZZLEVBRVQ7QUFDWixZQUFTLEVBSFksRUFHUjtBQUNiLGFBQVUsQ0FKVyxFQUlSO0FBQ2IsYUFBVSxDQUxXLEVBS1A7QUFDZCxlQUFZLElBTlMsRUFNSDtBQUNsQixlQUFZLElBUFMsRUFPSDtBQUNsQixZQUFTLEtBUlksRUFRTDtBQUNoQixVQUFPLEVBVGMsRUFTVjtBQUNYLFdBQVEsQ0FWYSxFQVVWO0FBQ1gsY0FBVyxLQVhVLEVBV0g7QUFDbEIsWUFBUyxHQVpZLEVBWVA7QUFDZCxlQUFZLElBYlMsQ0FhSjtBQWJJLEdBQXRCO0FBZUE7QUFDQSxPQUFLLE9BQUwsR0FBZSxLQUFLLFlBQUwsQ0FBa0IsT0FBbEIsRUFBMkIsS0FBSyxjQUFoQyxDQUFmO0FBdEI2QixpQkF1QjRDLEtBQUssT0F2QmpEO0FBQUEsTUF1QnJCLE9BdkJxQixZQXVCckIsT0F2QnFCO0FBQUEsTUF1QlosT0F2QlksWUF1QlosT0F2Qlk7QUFBQSxNQXVCSCxRQXZCRyxZQXVCSCxRQXZCRztBQUFBLE1BdUJPLFFBdkJQLFlBdUJPLFFBdkJQO0FBQUEsTUF1QmlCLFVBdkJqQixZQXVCaUIsVUF2QmpCO0FBQUEsTUF1QjZCLFVBdkI3QixZQXVCNkIsVUF2QjdCO0FBd0I3Qjs7QUFDQSxNQUFLLFVBQVUsQ0FBWCxJQUFrQixV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QXJCLEVBQW1DLFdBQVcsWUFBWCxDQUFuQztBQUNBO0FBQ0Q7QUFDRDtBQUNBLFlBQVEsV0FBUixDQUFvQixPQUFwQjtBQUNBO0FBQ0Q7Ozs7OztrQkFJYSxPIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCIvKipcclxuICogU3BlY2tsZS5qc1xyXG4gKlxyXG4gKiBBIEphdmFTY3JpcHQgbW9kdWxlIHRoYXQgYWRkcyByZXNwb25zaXZlLCBzdHlsaXplZCBcclxuICogc3BlY2tsZXMgdG8gYW55IGVsZW1lbnQ7IHdpdGggbm8gZGVwZW5kZW5jaWVzLlxyXG4gKlxyXG4gKiBAcGFja2FnZSBzcGVja2xlXHJcbiAqIEBzaW5jZSAgIDAuMC4xXHJcbiAqL1xyXG5jbGFzcyBTcGVja2xlIHtcclxuXHJcblx0LyoqXHJcblx0ICogQ29uc3RydWN0b3IuXHJcblx0ICpcclxuXHQgKiBAc2luY2UgIDAuMC4xXHJcblx0ICogQHBhcmFtICB7RWxlbWVudH0gIGVsZW1lbnQgIFRoZSBwYXNzZWQgZWxlbWVudCB0byBzcGVja2xlLlxyXG5cdCAqIEBwYXJhbSAge29ian0gICAgICBvcHRpb25zICBUaGUgb3B0aW9ucyBvYmplY3QuXHJcblx0ICogQHJldHVybiB7dm9pZH0gXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xyXG5cdFx0Ly8gdGhyb3cgZXJyb3IgaWYgYGVsZW1lbnRgIGlzIG5vdCBhIHZhbGlkIEhUTUwgZWxlbWVudC5cclxuXHRcdGlmICghIGVsZW1lbnQgfHwgISAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XHJcblx0XHRcdHRoaXMudGhyb3dFbGVtZW50RXJyb3IoKTtcclxuXHRcdH1cclxuXHRcdC8vIFNldCB0aGUgZGVmYXVsdCBvcHRpb25zLlxyXG5cdFx0dGhpcy5kZWZhdWx0T3B0aW9ucyA9IHtcclxuXHRcdFx0cXVhbnRpdHk6IDU2LCAvLyBxdWFudGl0eSBvZiBzcGVja2xlc1xyXG5cdFx0XHRtaW5TaXplOiA0LCAvLyBzbWFsbGVzdCBzcGVja2xlICgxKywgbGVzcyB0aGFuIGBtYXhTaXplYCwgcHgpXHJcblx0XHRcdG1heFNpemU6IDU2LCAvLyBsYXJnZXN0IHNwZWNrbGUgKDErLCBncmVhdGVyIHRoYW4gYG1pblNpemVgLCBweClcclxuXHRcdFx0dGJPZmZzZXQ6IDgsIC8vIHRvcC9ib3R0b20gb2Zmc2V0ICgwKywgJSlcclxuXHRcdFx0bHJPZmZzZXQ6IDgsICAvLyBsZWZ0L3JpZ2h0IG9mZnNldCAoMCssICUpXHJcblx0XHRcdG1pbk9wYWNpdHk6IDEyLjUsIC8vIG1pbmltdW0gb3BhY2l0eSAoMS0xMDApXHJcblx0XHRcdG1heE9wYWNpdHk6IDg3LjUsIC8vIG1heGltdW0gb3BhY2l0eSAoMS0xMDApXHJcblx0XHRcdGlzQm9rZWg6IGZhbHNlLCAvLyBib2tlaCBlZmZlY3QgKGJsdXIgYXMgYSBmYWN0b3Igb2YgZGlzdGFuY2UpXHJcblx0XHRcdGNvbG9yOiAnJywgLy8gY29sb3IgKGhleCwgcmdiLCBoc2wsIGtleXdvcmQpLiBJZiBub25lLCB0aGUgY29sb3JzIHdpbGwgYmUgcmFuZG9taXplZC5cclxuXHRcdFx0ekluZGV4OiAwLCAvLyB6LWluZGV4IChib2tlaDogdGhlIHN0YXJ0aW5nIHotaW5kZXgpXHJcblx0XHRcdGlzQ3JvcHBlZDogZmFsc2UsIC8vIGFwcGx5IGBvdmVyZmxvdzogaGlkZGVuO2AgdG8gdGhlIGNvbnRhaW5lclxyXG5cdFx0XHR0YWdOYW1lOiAnSScsIC8vIHRoZSBUYWcgTmFtZSB0aGF0IHRoZSBzcGVja2xlIHNob3VsZCBiZSByZW5kZXJlZCBhc1xyXG5cdFx0XHRhdHRyaWJ1dGVzOiBudWxsIC8vIGF0dHJpYnV0ZXMgb2JqZWN0IGFzIGBrZXk6IHZhbHVlYCBwYWlyc1xyXG5cdFx0fTtcclxuXHRcdC8vIFBhcnNlIGFuZCBzZXQgb3B0aW9ucy5cclxuXHRcdHRoaXMub3B0aW9ucyA9IHRoaXMucGFyc2VPcHRpb25zKG9wdGlvbnMsIHRoaXMuZGVmYXVsdE9wdGlvbnMpO1xyXG5cdFx0Y29uc3QgeyBtaW5TaXplLCBtYXhTaXplLCB0Yk9mZnNldCwgbHJPZmZzZXQsIG1pbk9wYWNpdHksIG1heE9wYWNpdHkgfSA9IHRoaXMub3B0aW9ucztcclxuXHRcdC8vIHRocm93IGVycm9yIGlmIGBtaW5TaXplYCBpcyBsZXNzIHRoYW4gMSwgb3IgZ3JlYXRlciB0aGFuIGBtYXhTaXplYC5cclxuXHRcdGlmICgobWluU2l6ZSA8IDEpIHx8IChtaW5TaXplID4gbWF4U2l6ZSkpIHtcclxuXHRcdFx0dGhpcy50aHJvd09wdGlvbnNFcnJvcignbWluU2l6ZScpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gdGhyb3cgZXJyb3IgaWYgYG1heFNpemVgIGlzIGxlc3MgdGhhbiAxLCBvciBsZXNzIHRoYW4gYG1pblNpemVgLlxyXG5cdFx0aWYgKChtYXhTaXplIDwgMSkgfHwgKG1heFNpemUgPCBtaW5TaXplKSkge1xyXG5cdFx0XHR0aGlzLnRocm93T3B0aW9uc0Vycm9yKCdtYXhTaXplJyk7XHJcblx0XHR9XHJcblx0XHQvLyB0aHJvdyBlcnJvciBpZiBgdGJPZmZzZXRgIGlzIGxlc3MgdGhhbiAwLlxyXG5cdFx0aWYgKHRiT2Zmc2V0IDwgMCkge1xyXG5cdFx0XHR0aGlzLnRocm93T3B0aW9uc0Vycm9yKCd0Yk9mZnNldCcpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gdGhyb3cgZXJyb3IgaWYgYGxyT2Zmc2V0YCBpcyBsZXNzIHRoYW4gMC5cclxuXHRcdGlmIChsck9mZnNldCA8IDApIHtcclxuXHRcdFx0dGhpcy50aHJvd09wdGlvbnNFcnJvcignbHJPZmZzZXQnKTtcclxuXHRcdH1cclxuXHRcdC8vIHRocm93IGVycm9yIGlmIGBtaW5PcGFjaXR5YCBpcyBsZXNzIHRoYW4gMCBvciBncmVhdGVyIHRoYW4gMTAwOyBvciBpZiBpcyBncmVhdGVyIHRoYW4gYG1heE9wYWNpdHlgLlxyXG5cdFx0aWYgKChtaW5PcGFjaXR5IDwgMCkgfHwgKG1pbk9wYWNpdHkgPiAxMDApIHx8IChtaW5PcGFjaXR5ID4gbWF4T3BhY2l0eSkpIHtcclxuXHRcdFx0dGhpcy50aHJvd09wdGlvbnNFcnJvcignbWluT3BhY2l0eScpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gdGhyb3cgZXJyb3IgaWYgYG1heE9wYWNpdHlgIGlzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiAxMDA7IG9yIGlmIGlzIGxlc3MgdGhhbiBgbWluT3BhY2l0eWAuXHJcblx0XHRpZiAoKG1heE9wYWNpdHkgPCAwKSB8fCAobWF4T3BhY2l0eSA+IDEwMCkgfHwgKG1heE9wYWNpdHkgPCBtaW5PcGFjaXR5KSkge1xyXG5cdFx0XHR0aGlzLnRocm93T3B0aW9uc0Vycm9yKCdtYXhPcGFjaXR5Jyk7XHJcblx0XHR9XHJcblx0XHQvLyBTZXQgdGhlIGdsb2JhbCBzdHlsZXMuXHJcblx0XHR0aGlzLmdsb2JhbFN0eWxlcyA9IHtcclxuXHRcdFx0Ym9yZGVyUmFkaXVzOiAnNTAlJywgXHJcblx0XHRcdGRpc3BsYXk6ICdibG9jaycsIFxyXG5cdFx0XHRwb2ludGVyRXZlbnRzOiAnbm9uZScsIFxyXG5cdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJywgXHJcblx0XHR9O1xyXG5cdFx0Ly8gU2V0IHRoZSB1cGdyYWRlZCBjbGFzcy5cclxuXHRcdHRoaXMudXBncmFkZWRDbGFzcyA9ICdzcGVja2xlLS11cGdyYWRlZCc7XHJcblx0XHQvLyBSZW5kZXIgc3BlY2tsZXMuXHJcblx0XHR0aGlzLnJlbmRlcihlbGVtZW50KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFBhcnNlIHRoZSBwYXNzZWQgb3B0aW9ucyBhZ2FpbnN0IHRoZSBkZWZhdWx0cy5cclxuXHQgKiBcclxuXHQgKiBAcGFyYW0gIHtvYmp9ICBvcHRpb25zICAgICAgICAgVGhlIHBhc3NlZCBpbiB1c2VyIG9wdGlvbnMgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSAge29ian0gIGRlZmF1bHRPcHRpb25zICBUaGUgZGVmYXVsdCBvcHRpb25zIG9iamVjdC5cclxuXHQgKiBAcmV0dXJuIHtvYmp9ICAgICAgICAgICAgICAgICAgVGhlIHBhcnNlZCBvcHRpb25zIG9iamVjdC5cclxuXHQgKi9cclxuXHRwYXJzZU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdE9wdGlvbnMpIHtcclxuXHRcdC8vIGlmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZCwganVzdCByZXR1cm4gdGhlIGRlZmF1bHQgb3B0aW9ucy5cclxuXHRcdGlmICghIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0T3B0aW9ucztcclxuXHRcdH1cclxuXHRcdC8vIGluaXQgZW1wdHkgYHBhcnNlZE9wdGlvbnNgIG9iamVjdC5cclxuXHRcdHZhciBwYXJzZWRPcHRpb25zID0ge307XHJcblx0XHQvLyBsb29wIGRlZmF1bHQgb3B0aW9uIGtleXMgYW5kIHBhcnNlLiBJZiB0aGUgb3B0aW9ucyBcclxuXHRcdC8vIG9iamVjdCBoYXMgdGhpcyBrZXksIHVzZSBpdDsgZWxzZSwgdXNlIHRoZSBkZWZhdWx0IG9wdGlvbi5cclxuXHRcdGZvciAodmFyIGtleSBpbiBkZWZhdWx0T3B0aW9ucykge1xyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcclxuXHRcdFx0Ly8gSWYgdGhlIHZhbHVlIGlzIGEgbnVtYmVyLCBzZXQgaXQgbm8gbWF0dGVyIHdoYXQuXHJcblx0XHRcdC8vIFRoaXMgcHJldmVudHMgaXNzdWVzIHdoZXJlIHBhc3NpbmcgYDBgIGlzIHJlYWQgYXMgXHJcblx0XHRcdC8vIG5vIG9wdGlvbiBwYXNzZWQsIHJlbmRlcmluZyB0aGUgZGVmYXVsdCBpbnN0ZWFkLlxyXG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdHBhcnNlZE9wdGlvbnNba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBhcnNlZE9wdGlvbnNba2V5XSA9IHZhbHVlIHx8IGRlZmF1bHRPcHRpb25zW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIHJldHVybiB0aGUgcGFyc2VkIG9wdGlvbnMuXHJcblx0XHRyZXR1cm4gcGFyc2VkT3B0aW9ucztcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaHJvdyBhbiBlbGVtZW50IGVycm9yLlxyXG5cdCAqIFxyXG5cdCAqIEBzaW5jZSAgMC4wLjFcclxuXHQgKiBAcmV0dXJuIHtFcnJvcn0gIFRoZSBmb3JtYXR0ZWQgZWxlbWVudCBlcnJvci5cclxuXHQgKi9cclxuXHR0aHJvd0VsZW1lbnRFcnJvcigpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcclxuXHRcdFx0J1NwZWNrbGUuanNcXG4nICsgXHJcblx0XHRcdCdBIHZhbGlkIEhUTUwgRWxlbWVudCBtdXN0IGJlIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LidcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUaHJvdyBhbiBlbGVtZW50IGVycm9yLlxyXG5cdCAqIFxyXG5cdCAqIEBzaW5jZSAgMC4wLjFcclxuXHQgKiBAcmV0dXJuIHtFcnJvcn0gIFRoZSBmb3JtYXR0ZWQgZWxlbWVudCBlcnJvci5cclxuXHQgKi9cclxuXHR0aHJvd09wdGlvbnNFcnJvcihrZXkpIHtcclxuXHRcdHZhciBtZXNzYWdlID0gJyc7XHJcblx0XHRpZiAoa2V5ID09PSAnbWluU2l6ZScpIHtcclxuXHRcdFx0bWVzc2FnZSA9ICdUaGUgdmFsdWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSwgYW5kIGxlc3MgdGhhbiBgbWF4U2l6ZWAuJztcclxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnbWF4U2l6ZScpIHtcclxuXHRcdFx0bWVzc2FnZSA9ICdUaGUgdmFsdWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSwgYW5kIGdyZWF0ZXIgdGhhbiBgbWluU2l6ZWAuJztcclxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAndGJPZmZzZXQnKSB7XHJcblx0XHRcdG1lc3NhZ2UgPSAnVGhlIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuJztcclxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnbHJPZmZzZXQnKSB7XHJcblx0XHRcdG1lc3NhZ2UgPSAnVGhlIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuJztcclxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnbWluT3BhY2l0eScpIHtcclxuXHRcdFx0bWVzc2FnZSA9ICdUaGUgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMCwgYW5kIGxlc3MgdGhhbiBgbWF4T3BhY2l0eWAuJztcclxuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnbWF4T3BhY2l0eScpIHtcclxuXHRcdFx0bWVzc2FnZSA9ICdUaGUgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMCwgYW5kIGdyZWF0ZXIgdGhhbiBgbWluT3BhY2l0eWAuJztcclxuXHRcdH1cclxuXHRcdHRocm93IG5ldyBFcnJvcihcclxuXHRcdFx0YFNwZWNrbGUuanMgWyR7a2V5fV1cXG5gICsgbWVzc2FnZVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gYSBwYXNzZWQgbWluaW11bSBhbmQgbWF4aW11bS5cclxuXHQgKiBcclxuXHQgKiBAc2luY2UgIDAuMC4xXHJcblx0ICogQHBhcmFtICB7aW50fSAgbWluICBUaGUgbWluaW11bSBmb3IgdGhlIHJldHVybmVkIGludGVnZXIuXHJcblx0ICogQHBhcmFtICB7aW50fSAgbWF4ICBUaGUgbWF4aW11bSBmb3IgdGhlIHJldHVybmVkIGludGVnZXIuXHJcblx0ICogQHJldHVybiB7aW50fSAgICAgICBUaGUgcmFuZG9taXplZCBpbnRlZ2VyLlxyXG5cdCAqL1xyXG5cdGdldFJhbmRvbUludChtaW4sIG1heCkge1xyXG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgobWF4IC0gbWluKSArIDEpICsgbWluKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBhIHJhbmRvbSBoZXggY29sb3IuXHJcblx0ICogXHJcblx0ICogQHNpbmNlICAwLjAuMVxyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gIEEgcmFuZG9tIGhleCBjb2xvci5cclxuXHQgKi9cclxuXHRnZXRSYW5kb21IZXgoKSB7XHJcblx0XHRyZXR1cm4gYCMkeygnMDAwMDAwJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIsIDgpKS5zbGljZSgtNikudG9VcHBlckNhc2UoKX1gO1xyXG5cdH1cclxuXHJcblx0Z2V0U3R5bGVzKGVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IHsgbWluU2l6ZSwgbWF4U2l6ZSwgdGJPZmZzZXQsIGxyT2Zmc2V0LCBtaW5PcGFjaXR5LCBtYXhPcGFjaXR5LCBjb2xvciwgaXNCb2tlaCwgekluZGV4IH0gPSB0aGlzLm9wdGlvbnM7XHJcblx0XHQvLyBzaXplXHJcblx0XHRjb25zdCBzaXplID0gdGhpcy5nZXRSYW5kb21JbnQobWluU2l6ZSwgbWF4U2l6ZSk7XHJcblx0XHRjb25zdCBjZW50ZXIgPSAoc2l6ZSAvIDIpO1xyXG5cdFx0Ly8gY29sb3JcclxuXHRcdGNvbnN0IHJlbmRlckNvbG9yID0gY29sb3IgfHwgdGhpcy5nZXRSYW5kb21IZXgoKTtcclxuXHRcdC8vIENyZWF0ZSB0aGUgc3R5bGVzIG9iamVjdC5cclxuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMuZ2xvYmFsU3R5bGVzLCB7XHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogcmVuZGVyQ29sb3IsIFxyXG5cdFx0XHRib3hTaGFkb3c6IGlzQm9rZWggPyBgMCAwICR7KHNpemUgLyAzKX1weCAkeyhzaXplIC8gMyl9cHggJHtyZW5kZXJDb2xvcn1gIDogJycsIFxyXG5cdFx0XHRoZWlnaHQ6IGAke3NpemV9cHhgLCBcclxuXHRcdFx0bGVmdDogYGNhbGMoJHt0aGlzLmdldFJhbmRvbUludCgwIC0gbHJPZmZzZXQsIDEwMCArIGxyT2Zmc2V0KX0lIC0gJHtjZW50ZXJ9cHgpYCwgXHJcblx0XHRcdG9wYWNpdHk6ICh0aGlzLmdldFJhbmRvbUludChtaW5PcGFjaXR5LCBtYXhPcGFjaXR5KSAqIDAuMDEpLCBcclxuXHRcdFx0dG9wOiBgY2FsYygke3RoaXMuZ2V0UmFuZG9tSW50KDAgLSB0Yk9mZnNldCwgMTAwICsgdGJPZmZzZXQpfSUgLSAke2NlbnRlcn1weClgLCBcclxuXHRcdFx0d2lkdGg6IGAke3NpemV9cHhgLCBcclxuXHRcdFx0ekluZGV4OiB6SW5kZXgsIFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZW5kZXIgdGhlIHNwZWNrbGVzLlxyXG5cdCAqIFxyXG5cdCAqIEBzaW5jZSAgMC4wLjFcclxuXHQgKiBAcGFyYW0gIHtFbGVtZW50fSAgZWxlbWVudCAgVGhlIGNvbnRhaW5lciBlbGVtZW50IHRvIHNwZWNrbGUuXHJcblx0ICogQHJldHVybiB7dm9pZH0gXHJcblx0ICovXHJcblx0cmVuZGVyKGVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IHsgcXVhbnRpdHksIGlzQ3JvcHBlZCwgdGFnTmFtZSwgYXR0cmlidXRlcyB9ID0gdGhpcy5vcHRpb25zO1xyXG5cdFx0Y29uc3QgeyBwb3NpdGlvbiB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XHJcblx0XHQvLyBhZGQgdGhlIHVwZ3JhZGVkIGNsYXNzLlxyXG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMudXBncmFkZWRDbGFzcyk7XHJcblx0XHQvLyBhZGQgcmVsYXRpdmUgcG9zaXRpb25pbmcgdG8gdGhlIGVsZW1lbnQgaWYgaXQgXHJcblx0XHQvLyBpcyBub3QgYWxyZWFkeSBgcmVsYXRpdmVgLCBgZml4ZWRgLCBvciBgYWJzb2x1dGVgLlxyXG5cdFx0aWYgKFsncmVsYXRpdmUsIGFic29sdXRlLCBmaXhlZCddLmluZGV4T2YocG9zaXRpb24pID09PSAtMSkge1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuXHRcdH1cclxuXHRcdC8vIEFkZCBgb3ZlcmZsb3c6IGhpZGRlbjtgIHRvIGVsZW1lbnQgaWYgYGlzQ3JvcHBlZGAgaXMgYHRydWVgLlxyXG5cdFx0aWYgKGlzQ3JvcHBlZCkge1xyXG5cdFx0XHRlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcblx0XHR9XHJcblx0XHQvLyByZW5kZXIgc3BlY2tsZXMgYWNjb3JkaW5nIHRvIHF1YW50aXR5LlxyXG5cdFx0Zm9yICh2YXIgaSA9IDE7IGkgPD0gcXVhbnRpdHk7IGkrKykge1xyXG5cdFx0XHQvLyBDcmVhdGUgc3BlY2tsZSBlbGVtZW50IGFjY29yZGluZyB0byB0aGUgYHRhZ05hbWVgIG9wdGlvbi5cclxuXHRcdFx0Y29uc3Qgc3BlY2tsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcblx0XHRcdC8vIFNldCB0aGUgaW5kZXggb2YgdGhpcyBhdHRyaWJ1dGUgYXMgYGRhdGEtc3BlY2tsZS1pbmRleGAgXHJcblx0XHRcdC8vIGluY2FzZSBpdCBuZWVkcyB0byBiZSBhY2Nlc3NlZCBieSBvdGhlciBzY3JpcHRzLlxyXG5cdFx0XHRzcGVja2xlLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGVja2xlLWluZGV4JywgaSk7XHJcblx0XHRcdC8vIEdldCBzcGVja2xlIHN0eWxlcy5cclxuXHRcdFx0Y29uc3Qgc3R5bGVzID0gdGhpcy5nZXRTdHlsZXMoZWxlbWVudCk7XHJcblx0XHRcdC8vIGxvb3Agb3ZlciB0aGUgc3BlY2tsZSBzdHlsZSBvYmplY3Qga2V5cyBhbmQgYXBwbHkgdGhlIHN0eWxlcy5cclxuXHRcdFx0aWYgKHN0eWxlcyAmJiB0eXBlb2Ygc3R5bGVzID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdGZvciAodmFyIHN0eWxlS2V5IGluIHN0eWxlcykge1xyXG5cdFx0XHRcdFx0c3BlY2tsZS5zdHlsZVtzdHlsZUtleV0gPSBzdHlsZXNbc3R5bGVLZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBBZGQgdGhlIGN1c3RvbSBhdHRyaWJ1dGVzIHRvIHRoZSBzcGVja2xlLlxyXG5cdFx0XHRpZiAoYXR0cmlidXRlcyAmJiB0eXBlb2YgYXR0cmlidXRlcyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBhdHRyaWJ1dGVLZXkgaW4gYXR0cmlidXRlcykge1xyXG5cdFx0XHRcdFx0c3BlY2tsZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlS2V5LCBhdHRyaWJ1dGVzW2F0dHJpYnV0ZUtleV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBBcHBlbmQgdGhlIHNwZWNrbGUgdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50LlxyXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKHNwZWNrbGUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNwZWNrbGU7Il19"}